---
params:
  boj: 10251
  bojTitle: 운전 면허 시험
---

## 문제 내용

생략

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저, 규칙 1과 2에 의해 총 소요 시간은 $L(M+N-2)$에 방향을 바꾼 횟수를 더한 것과 동일함을 알 수 있습니다. 따라서 $G$ 이하의 연료를 사용하는 경로 중에서 방향을 바꾼 횟수가 최소인 것을 구하면 됩니다.

이는 다음과 같은 DP로 구할 수 있습니다.

* `DP[r][c][t][d]`: $r$행 $c$열의 교차로를 $d$ (오른쪽 `R` 또는 아래 `D`) 방향으로 진입하였을 때 지금까지 방향을 바꾼 횟수가 $t$인 경로의 최소 연료 사용량
* `DP[r][c][t][R]` (오른쪽으로 진입한 경우) = `DP[r][c-1][t][R]` (직전 교차로 또한 오른쪽으로 진입한 경우)와 `DP[r][c-1][t-1][D]` (직전 교차로를 아래로 진입한 경우) 중 최솟값 + 오른쪽 방향의 연료 사용량
* `DP[r][c][t][D]`도 비슷하게 구할 수 있습니다.
* 첫 행과 첫 열의 경우 $t = 0$인 경우만 가능하며, 이때의 연료 사용량은 자명하게 구할 수 있습니다.

$M, N \le 100$이므로 회전 횟수의 최댓값은 대략 $M + N \le 200$이 되고, $\mathcal{O} (MN(M+N))$에 구할 수 있습니다.

{{< /details >}}
