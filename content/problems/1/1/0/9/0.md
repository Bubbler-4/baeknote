---
params:
  boj: 11090
  bojTitle: Cutting Brownies
---

## 문제 내용

가로 길이 $B$, 세로 길이 $D$의 직사각형 초콜릿을 가지고 Harry와 Vicky가 게임을 합니다. Harry는 초콜릿 조각 중 하나를 골라 가로로만 자를 수 있고, Vicky는 세로로만 자를 수 있습니다. 자른 뒤 각각의 조각의 가로와 세로는 정수여야 합니다.
자신의 턴에 행동을 할 수 없게 되는 사람이 패배합니다.

$B$, $D$, 그리고 선공의 이름이 주어질 때 선공이 이길 수 있는지 없는지를 출력하세요. ($1 \le B, D \le 500$)

## 문제 풀이

{{% details title="스포일러" closed="true" %}}

Harry가 선공일 경우, Harry와 Vicky가 각자의 규칙으로 게임을 하는 것은, Harry가 가로로 자르고 모든 조각을 90도 돌린 다음 Vicky 또한 가로로 자르고 90도 돌리는 것을 반복하는 것과 같습니다.
Vicky가 선공이면 가로와 세로를 바꿔서 Harry가 선공인 게임과 동치입니다.

이를 바탕으로 재귀로 승패 DP를 짜서 돌려 보면 다음과 같은 결과를 얻을 수 있습니다. (빠른 언어로 작성 시 (8, 8)까지 구하는 데 몇 초 정도 걸립니다.)

```
D\B| 1 2 3 4 5 6 7 8
---+----------------
1  | X X X X X X X X
2  | O X X X X X X X
3  | O X X X X X X X
4  | O O O X X X X X
5  | O O O X X X X X
6  | O O O X X X X X
7  | O O O X X X X X
8  | O O O O O O O X
```

이로부터 **가로와 세로를 2진수로 나타내었을 때 세로의 2진수 표현이 더 길면 Harry 승**이라고 추측할 수 있고, 실제로 이것이 정답입니다.
  
{{% /details %}}

### 증명

{{% details title="스포일러" closed="true" %}}

**Base case 1**: $D = 1$이면 Harry는 할 수 있는 행동이 없으므로 패배합니다.

**Base case 2**: $D > 1, B = 1$이면 Harry가 아무데나 자르고 나면 Vicky는 두 조각에서 할 수 있는 행동이 없으므로 승리합니다.

**Inductive case 1**: 수 $x$의 이진수 표현의 길이를 $\log(x)$라고 합시다. $\log(D) > \log(B)$이면, $\log(D_1) \ge \log(B) \wedge \log(D_2) \ge \log(B)$이도록 $D = D_1 + D_2$로 나눌 수 있습니다.
이렇게 되면 Vicky가 받는 두 조각은 모두 선공이 패배하는 조각이 됩니다. 그러면 Vicky가 어느 조각을 골라서 행동을 하든 Harry는 같은 조각의 파편에 승리하는 행동을 하면 최종적으로 Harry가 승리합니다.

**Inductive case 2**: $\log(D) \le \log(B)$이면, 앞의 조건을 충족하는 $D_1$과 $D_2$의 쌍이 존재하지 않으므로, Harry가 어떻게 행동하든 Vicky는 선공 승인 조각을 하나 이상 받게 됩니다.
선공 승인 조각 중 하나를 A, 다른 것을 B라고 하면, Vicky는 먼저 A에 승리하는 행동을 합니다. Harry가 A의 파편에 행동을 하면 Vicky는 똑같이 A의 파편에 행동으로 대응하고,
B의 파편에 행동을 하면 (B 또한 Harry에게는 선공 패이므로) B에 행동하는 것으로 대응할 수 있습니다. 따라서 최종적으로 Harry는 패배합니다.
  
{{% /details %}}
