---
draft: true
params:
  boj: 11750
  bojTitle: Wall Clocks
---

## 문제 내용

직사각형 방 안에 $n$명의 사람이 각각 동서남북 중 한 방향을 바라보고 있습니다. 어떤 사람의 시야는 바라보는 방향의 왼쪽으로 45도부터 오른쪽으로 45도까지이며, 경계선도 포함됩니다.

방의 벽에 몇 개의 시계를 걸어 모든 사람이 시계를 볼 수 있도록 하려고 합니다. 시계의 가능한 최소 개수를 구하시오.

### 입력

첫 줄에 사람 수 $n$, 방의 가로 길이 $w$, 세로 길이 $d$가 주어집니다. ($1 \le n \le 1000$, $2 \le w, d \le 100\;000$)

다음 $n$줄에는 각각 $i$번째 사람의 $x$좌표, $y$좌표, 그리고 그 사람이 바라보는 방향(`NSEW` 중 하나)이 주어집니다. ($1 \le x \le w-1$, $1 \le y \le d-1$)

### 출력

시계의 가능한 최소 개수를 출력합니다.

## 문제 풀이

{{% details title="스포일러 1" closed="true" %}}
먼저, 각 사람의 시야를 벽에서의 어떤 구간으로 환산할 수 있습니다. 이렇게 되면 원형에서의 최소 구간 커버 문제가 됩니다.
{{% /details %}}

{{% details title="스포일러 2" closed="true" %}}
선형에서 최소 구간 커버는 잘 알려진 그리디 문제이므로, 원형을 잘 끊어서 선형으로 만들어 주는 것을 생각할 수 있습니다.
{{% /details %}}

{{% details title="스포일러 3" closed="true" %}}
어떤 최적의 시계 배치가 있을 때, 시계를 잘 움직여서 어떤 구간의 시작점으로 옮기는 것이 반드시 가능하므로,
모든 구간의 시작점에 시계를 배치하여 원형을 끊고 남은 구간들에 대해 선형 그리디를 해 보는 것을 생각할 수 있습니다.
이렇게 하면 $\mathcal{O} (n^2 \log n)$에 동작하는 알고리즘을 얻을 수 있고, 여유롭게 통과합니다.
{{% /details %}}
