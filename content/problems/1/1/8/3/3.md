---
params:
  boj: 11833
  bojTitle: 돌 무게 재기
---

## 문제 내용

생략

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

저울이 왼쪽으로 확정적으로 기우는 조건은 모든 오른쪽의 돌에 대해 더 무거운 왼쪽의 돌을 매칭시켜줄 수 있는 것입니다.
그렇지 않다면, 매칭된 것들끼리의 무게의 차이를 아주 작게 잡고 오른쪽의 남은 돌의 무게를 크게 둬서 무게의 총합을 역전시킬 가능성이 존재합니다.

그리고 이러한 매칭이 존재하는 것은, 왼쪽에 올린 돌을 +1, 오른쪽에 올린 돌을 -1로 두고 무게가 무거운 것부터 순서대로 뒀을 때 모든 누적 합이 0 이상인 것과 동치입니다.

따라서, (sum, min of prefix sums) 세그먼트 트리를 사용하여 업데이트(돌 추가)와 쿼리(모든 누적 합이 0 이상 = 누적 합의 최솟값이 0 이상)를 처리할 수 있습니다.

{{< /details >}}
