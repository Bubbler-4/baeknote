---
params:
  boj: 12665
  bojTitle: Mine Layer (Small)
---

## 문제 내용

$R$행 $C$열의 사각 격자의 각 칸에 지뢰가 각각 0개 또는 1개 숨겨져 있습니다. 각 칸에는 그 칸을 중심으로 한 $3 \times 3$ 영역 내의 지뢰의 개수가 쓰여 있습니다. 이때 가운데 가로줄에 있는 지뢰의 개수의 최댓값을 구하세요.

### 입력

첫 줄에 테스트 케이스의 개수 $N$이 주어집니다. ($1 \le N \le 50$)

각 테스트 케이스에 대해, $R$과 $C$가 주어지고, 그 다음에 $R$행 $C$열의 격자의 각 칸에 적힌 값이 주어집니다. ($3 \le R, C \le 5$, $R$은 홀수)

각각의 입력에 대해, 그에 대응되는 지뢰의 배치가 존재함이 보장됩니다.

### 출력

각 테스트 케이스에 대해 `Case #<테스트 케이스 번호>: <문제의 답>`의 형식으로 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

입력의 크기가 작으므로, 다음과 같은 브루트포스 방법이 존재합니다.

* 먼저 첫 번째 가로줄과 첫 번째 세로줄의 각각의 칸에 지뢰가 있는지 없는지를 정합니다. 이는 최대 $2^9 = 512$가지 경우가 존재합니다.
* 각각의 경우에 대해, 맨 왼쪽 위 칸의 숫자부터 확인해 가면서 남은 칸의 지뢰의 개수를 유일하게 결정할 수 있습니다.
* 모든 숫자를 충족하는지, 각 칸의 지뢰의 개수가 0개 또는 1개인지 확인한 뒤에 중간 줄의 지뢰의 개수를 셉니다.

{{< /details >}}
