---
params:
  boj: 12692
  bojTitle: Millionaire (Large)
---

## 문제 내용

처음에 $X$달러를 가지고 다음과 같은 게임을 합니다.

* 게임은 총 $M$라운드로 진행되며, 각 라운드를 이길 확률은 $P$로 동일합니다.
* 각 라운드를 시작하기 전에 당신이 가진 금액이 $y$달러라면, 각 라운드에 $0$달러 이상 $y$달러 이하의 임의의 실수만큼의 금액을 베팅할 수 있습니다.
* 그 라운드에서 당신이 승리하면 이전에 가졌던 금액에 베팅한 만큼을 추가로 얻고, 패배하면 베팅한 만큼을 잃습니다.
* $M$라운드가 모두 종료되었을 때 당신이 100만 달러 이상을 갖고 있다면 그만큼의 금액을 상금으로 받을 수 있고, 아니라면 아무것도 받을 수 없습니다.

$M$라운드가 종료되었을 때 당신이 100만 달러 이상을 갖고 있을 확률이 최대가 되도록 게임을 할 때, 그 확률을 구하세요.

### 입력

첫 줄에는 테스트 케이스의 개수 $T$가 주어집니다. ($1 \le T \le 100$)

각 테스트 케이스에 대해, $M$, $P$, $X$의 값이 순서대로 한 줄에 주어집니다. ($1 \le M \le 15$, $0 \le P \le 1$, $1 \le X \le 10^6$)

$M$과 $X$는 정수이고, $P$는 소수점 이하 6자리까지 주어질 수 있습니다.

### 출력

각 테스트 케이스에 대해 `Case #{테스트 케이스 번호}: {문제의 정답}`의 형식으로 출력합니다. 출력한 답의 정답과의 절대 오차가 $10^{-6}$ 이하이면 정답으로 인정됩니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저 {{< baeknote 12691 >}}의 풀이를 적용합니다.

$2^{15}$개의 경계점을 구하기 위해 $2^28$가지 경우의 수를 고려해야 하지만, 시간 제한이 20초나 되므로 동일한 구현을 효율적으로 하는 것만으로 AC를 받을 수 있습니다.
예를 들어, 모든 이전 경계점의 조합에 대해 경계점과 승률을 저장한 뒤 정렬하는 것 대신, 새로운 경계점의 목록을 미리 만들고 각 위치에서 최댓값을 바로 구해줄 수 있습니다.

{{< /details >}}
