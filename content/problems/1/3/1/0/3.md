---
params:
  boj: 13103
  bojTitle: Idempotent Filter
---

## 문제 내용

육각 그리드로 표현된 흑백 이미지에 적용할 필터가 주어집니다. 이 필터가 idempotent한지, 즉 임의의 이미지에 대해 이 필터를 두 번 적용한 결과가 한 번 적용한 결과와 동일한지 판별하세요.

필터는 하나의 픽셀과 주변의 6개 픽셀을 입력으로 받아서 중앙 픽셀이 가질 색깔을 출력하는 함수입니다. 이 필터는 이미지 전체에 동시에 적용되어 새로운 이미지를 내놓게 됩니다.

예를 들면, 다음과 같은 필터가 가능합니다.

* *노이즈 제거 필터*: 주변 6개 픽셀이 모두 흰색이면 중앙 픽셀을 흰색으로 바꾸고, 그렇지 않으면 그대로 둡니다.
* *테두리 판별 필터*: 주변 6개 픽셀이 모두 검은색이면 중앙 픽셀을 흰색으로 바꾸고, 그렇지 않으면 그대로 둡니다.
* *1픽셀 밀어올리기 필터*: 바로 아래 픽셀이 검은색이면 중앙 픽셀을 검은색으로 바꾸고, 흰색이면 흰색으로 바꿉니다.

처음 두 개 필터는 idempotent하고, 세 번째 필터는 idempotent하지 않습니다.

### 입력

입력은 여러 개의 테스트 케이스로 이루어져 있으며, `#`로 종료됩니다. 테스트 케이스의 개수는 100 미만입니다.

각 테스트 케이스에 대해, 필터의 정의가 한 줄에 주어집니다. 이는 0과 1로 이루어진 길이 128의 문자열로, 0은 검은색, 1은 흰색을 나타내고, 이 문자열의 $i$번째 글자(0-indexed)는
문제의 그림에 따라 7비트의 이진수 `bit6 bit5 bit4 ... bit0`가 $i$일 때 중앙 픽셀, 즉 `bit3`의 자리에 있는 픽셀이 가져야 할 색깔을 나타냅니다.

### 출력

각 테스트 케이스에 대해, 주어진 필터가 idempotent하면 `yes`, 아니면 `no`를 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

어떤 필터를 두 번 적용했을 때의 중앙 픽셀의 상태는 원래 이미지에서 거리 2 이내의 총 19개 픽셀의 상태에만 영향을 받습니다. 따라서, 이러한 영역의 $2^{19}$가지 가능한 상태에 대해
한 번 적용했을 때의 중앙 픽셀의 값과 두 번 적용했을 때의 중앙 픽셀의 값이 모두 일치하면 idempotent로 판정할 수 있습니다.

제한 시간은 넉넉하지만, 필터의 비트가 주어지는 방식과 동일한 방향으로 19개 픽셀에 번호를 매기면 조금 더 적은 비트 연산(shift, and, or)을 사용하여 구현할 수 있습니다.

{{< /details >}}
