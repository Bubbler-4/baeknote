---
params:
  boj: 14959
  bojTitle: Slot Machines
---

## 문제 내용

어떤 슬롯 머신의 당첨 번호의 주기성을 분석하려고 합니다. 슬롯 머신을 $n$번 작동시켜 얻은 당첨 번호의 목록이 주어질 때, "처음 $k$번을 제외하고 당첨 번호가 $p$의 주기를 가짐"을 충족하는 $(k, p)$의 쌍을 찾아 출력하세요.

그러한 쌍이 여러 개일 경우에는 $k+p$가 최소인 것을, 그러한 것도 여러 개라면 그 중 $p$가 최소인 것을 출력하세요.

### 입력

첫 줄에는 $n$이 주어집니다. ($1 \le n \le 10^6$)

다음 줄에는 $n$개의 당첨 번호가 주어집니다. 당첨 번호는 0 이상 $10^6$ 미만의 정수입니다.

### 출력

문제의 정답을 $k$, $p$의 순서로 공백으로 구분하여 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

이 문제는 KMP의 실패 함수를 사용하여 풀 수 있습니다. 실패 함수는 다음과 같이 정의됩니다.

* 문자열 $S$에 대해, $Fail[i]$는 $S$의 prefix와 일치하는 $S[..i]$의 최장 suffix(자기 자신은 제외)의 길이입니다.

이제 당첨 번호의 나열을 문자열로 생각하고 순서를 뒤집은 다음 실패 함수를 구하면, 각각의 $i$에 대해 마지막 $i$개가 주기성을 띠는 구간이라고 가정했을 때의 최소 주기를 구할 수 있습니다.

이들 중에서 문제의 조건에 따라 최적인 $k$와 $p$의 쌍을 구해서 출력하면 됩니다.

{{< /details >}}
