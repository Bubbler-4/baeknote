---
params:
  boj: 15153
  bojTitle: Keeping Cool
---

## 문제 내용

당신은 좌표평면의 원점에 서 있고, $(x, y)$에 있는 공을 집어서 원점으로 돌아오려고 합니다.

좌표평면 위에는 여러 개의 원이 있고, 각각의 원은 "안전 지대"입니다. 당신은 안전 지대 밖으로 나가면 다른 안전 지대에 닿기 전까지 최대 $k$만큼의 거리를 이동할 수 있습니다.
이때 공을 집어서 원점으로 돌아올 수 있는지 판별하고, 이것이 가능하다면 안전 지대 밖에서 이동해야 하는 거리의 최솟값을 구하세요.

### 입력

첫 줄에는 원의 개수 $n$, 안전 지대 밖에서 한 번에 이동 가능한 거리 $k$, 공의 좌표 $(x, y)$가 순서대로 주어집니다. ($0 \le n \le 100$, $1 \le k \le 100$, $-100 \le x, y \le 100$)

다음 $n$줄에는 각 원의 중심의 좌표 $(x, y)$와 반지름 $r$이 주어집니다. ($-100 \le x, y \le 100$, $1 \le r \le 100$)

모든 입력은 정수입니다. 두 원이 겹치거나 원점 또는 공의 좌표를 포함할 수 있으며, 공이 원점에 있을 수도 있습니다.

### 출력

공을 집어서 원점으로 돌아올 수 있다면, 안전 지대 밖에서 이동해야 하는 거리의 최솟값을 출력합니다. 정답과의 절대 또는 상대 오차가 $10^{-6}$ 이하이면 정답으로 인정됩니다.

돌아올 수 없다면 `-1`을 대신 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

출발점인 원점을 반지름 0인 하나의 원으로 두고, 각각의 원의 쌍에 대해 서로 이동이 가능한지 판별하여 그래프를 만듭니다. 그러면 Dijkstra 알고리즘으로 원점에서 각 원 내부에 닿을 때까지 필요한 최소 비용을 구할 수 있습니다.

공이 원 밖에 있을 경우 그 공을 집어서 돌아오기 위해서는, 한 원에서 출발하여 공이 있는 곳까지 갔다가 한 원으로 들어가기까지의 거리가 $k$ 이하이면 되며, 이때 두 원이 서로 달라도 됩니다.
$n$이 최대 100이므로, 모든 원의 쌍에 대해 이를 판별할 수 있습니다. 가능한 경우 총 비용은 ($i$번 원까지 가는 비용 + $i$번 원에서 공까지 가는 비용 + $j$번 원까지 가는 비용 + $j$번 원에서 공까지 가는 비용)이며, 그 중 최솟값을 출력하면 됩니다.

**주의 사항**: 거리 $k$ 이하 판별을 `double` 또는 `f64`로 계산하면 맞으나, 정수로 소수점 이하 12자리까지 계산해도 틀리는 현상이 있습니다.

{{< /details >}}
