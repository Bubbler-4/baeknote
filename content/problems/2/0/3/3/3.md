---
draft: true
params:
  boj: 20333
  bojTitle: Elevator Pitch
---

## 문제 내용

평평한 땅이 사각 격자로 나누어져 있고, 그 위에 빌딩이 몇 개가 서 있습니다. 한 빌딩의 임의의 층은 평면 상에서 상하좌우로 이웃한 빌딩의 같은 층과 연결되어 있습니다.

빌딩이 없는 칸은 주변의 빌딩이 없는 칸, 그리고 다른 빌딩의 1층과 연결되어 있습니다.

당신은 이 빌딩들에 엘리베이터를 설치하여 모든 빌딩의 모든 층 간에 서로 이동 가능하게 하려고 합니다. 어떤 빌딩에 엘리베이터를 설치하면, 그 빌딩의 모든 층이 서로 연결됩니다. 이때 필요한 엘리베이터의 최소 개수를 구하세요.

### 입력

첫 줄에는 행 개수 $h$와 열 개수 $w$가 주어집니다.

다음 $h$줄에는 각 칸의 빌딩의 층수를 나타내는 정수 $x_{i,j}$가 $w$개씩 주어집니다. ($0 \le x_{i,j} \le 10^9$) 이 값이 0이면 빌딩이 없다는 뜻입니다.

## 문제 풀이

{{% details title="스포일러" closed="true" %}}

낮은 빌딩과 높은 빌딩이 서로 연결되어 있는 경우, 낮은 빌딩보다는 높은 빌딩에 엘리베이터를 설치하는 것이 이득입니다.
또한, 높은 빌딩에 엘리베이터를 놓으면 그 빌딩과 이웃한 낮은 빌딩의 모든 층이 연결되고, 거기에 이웃한 더 낮은 빌딩의 모든 층이 연결되고, ...의 효과가 반복됩니다.
따라서 빌딩들을 높이가 낮아지는 순으로 방문하면서 필요할 때만 엘리베이터를 설치하고, 그러한 칸에서 이웃한 낮은 빌딩으로 그래프 탐색을 하여 필요 없음으로 표시해주면 됩니다.

다음의 경우 첫 번째 전파에서 십자의 오른쪽 부분이 연결되지 않았다고 처리되어 반례라고 생각할 수 있지만, 두 번째 전파에서 커버되므로 문제가 없습니다.

```
0 0 8 0 0
0 0 6 0 0
9 5 6 5 3
0 0 6 0 0
0 0 2 0 0
```

조건상 0인 칸은 1인 칸과 동일하게 처리하여야 하며, 모든 칸이 1 이하인 경우에는 이미 모두 연결되어 있으므로 0을 출력해야 합니다.

{{% /details %}}
