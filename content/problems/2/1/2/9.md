---
params:
  boj: 2129
  bojTitle: 드라이브 파이널
---

## 문제 내용

생략

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저 문제의 조건 중에서 "가장 피로도가 낮은 간선으로만 이동 가능" 조건을 적용하여 간선 중에서 쓸 수 있는 간선만 남깁니다.

이제 이 그래프에서 피로도가 최소인 경로 중에서 거리가 최소인 경로를 구해야 합니다. 이는 `피로도 * 1 000 000 000 + 거리`를 간선의 가중치로 하여 벨만-포드 알고리즘으로 최소 가중치 경로를 구하면 됩니다.
최소 가중치로부터 피로도와 거리를 복구하려면 `1 000 000 000`으로 나눈 몫과 나머지를 구하면 되는데, 단순히 `/`와 `%` 연산자를 쓰면 음수 나눗셈에서 틀릴 수 있으니 주의합니다.

마지막으로, 시작점에서 음수 사이클을 거쳐서 끝점으로 도달할 수 있는지 확인해야 합니다. 이는 벨만-포드의 추가 루프에서 한 번 더 거리가 감소하는 모든 정점을 나열한 뒤에 그 정점들에서
그래프 탐색을 수행하여 $t$에 도달할 수 있는지 확인하면 됩니다.

{{< /details >}}
