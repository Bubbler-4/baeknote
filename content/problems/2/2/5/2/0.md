---
params:
  boj: 22520
  bojTitle: Mermaid Witch
---

## 문제 내용

변의 길이가 1인 정사각형 모양의 바퀴가 지면 위에서 굴러가고 있습니다. 맨 처음에 이 바퀴의 한 변은 지면에 완전히 붙어 있으며, 그 변의 왼쪽($x$좌표가 작은 쪽)의 $x$좌표는 $A$입니다.
각 변의 색깔은 지면에 붙어있는 변부터 반시계 방향으로 **파랑(`Blue`), 흰색(`White`), 빨강(`Red`), 녹색(`Green`)** 입니다.

이제 이 바퀴가 미끄러지지 않고 오른쪽으로 굴러가다가, 지면에 붙은 변의 오른쪽($x$좌표가 큰 쪽)의 $x$좌표가 $B$를 처음으로 초과했을 때, 지면에 붙은 변의 **반대쪽 변**의 색깔을 출력하세요.

### 입력

첫 줄에는 지면을 정의하는 점의 개수 $N$, 그리고 $A$와 $B$의 값이 주어집니다. ($2 \le N \le 30$, $0 \le A < B \le 200$)

다음 $N$줄에는 각 점의 $x$좌표와 $y$좌표 $(x_i, y_i)$가 주어집니다. ($0 \le x_i, y_i \le 200$, $x_i < x_{i+1}$)

지면은 $(x_1, y_1)$과 $(x_2, y_2)$를 선분으로 연결하고, ..., $(x_i, y_i)$와 $(x_{i+1}, y_{i+1})$을 연결하고, ..., $(x_{N-1}, y_{N-1})$과 $(x_N, y_N)$을 연결한 형태이며, 지면은 아래로 볼록합니다.

입력되는 수는 모두 정수입니다. 추가적으로, $x_1 < A < x_2 - 1$과 $x_{N-1} + 1 < B < x_N$이 성립하며, 다음의 조건을 충족합니다.

* 바퀴가 돌다가 어떤 꼭짓점이 지면에 닿았을 때, 그 꼭짓점의 $x$좌표는 $B$에서 $10^{-5}$ 이내에 있지 않습니다.
* 바퀴의 크기를 $\pm 10^{-6}$만큼 변화시키더라도 정답은 바뀌지 않으며, 이때 마지막 $x$좌표의 변화량은 $10^{-3}$을 초과하지 않습니다.

### 출력

문제의 정답을 `Blue`, `White`, `Red`, `Green` 중 하나로 출력합니다.

## 문제 풀이

{{% details title="스포일러" closed="true" %}}

일단 좌표의 범위가 크지 않으므로 바퀴가 구르는 과정을 시뮬레이션해서 풀 수 있습니다.

바퀴가 구르기 시작하여 그 다음으로 어떤 꼭짓점이 지면에 닿을 때까지의 과정은 하나의 꼭짓점이 지면에 닿은 상태로 그 점을 중심으로 회전이동을 하는 것과 같습니다. 이 중심점을 pivot이라고 합시다.
그러면 모든 구르는 과정은 한 pivot에서 다음 pivot으로 넘어가는 것을 반복한 것과 같습니다.

다음 pivot이 될 수 있는 꼭짓점은 현재 pivot에서 오른쪽으로 이웃한 점과 사각형의 대각으로 마주한 점이 있습니다. 이들은 각각 pivot을 기준으로 반지름 1과 $\sqrt{2}$인 원을 그리므로, 원과 선분의 교차를 구현하면 각각 어디서 멈출지를 계산할 수 있습니다.
시작점은 항상 지면보다 위에 있으므로, 오른쪽으로 회전해서 먼저 닿는 점은 항상 최대 두 개의 교차점 중에서 $x$좌표가 큰 쪽입니다. $\sqrt{2}$ 거리를 기준으로, pivot이 있는 선분에서부터 최대 다음다음 선분까지 닿을 수 있으므로 이들을 모두 고려해야 합니다.

여러 개의 후보가 만들어질 경우, 회전량이 가장 적은 것을 선택합니다. 이를 조금 쉽게 구현하려면, 바퀴를 잠시 역으로 돌려서 pivot의 오른쪽 변을 수직으로 세웠다가 만날 때까지 돌아가는 각도를 `atan2`를 이용하여 재면 됩니다.
pivot의 대각으로 마주한 점이 돌아가는 각도는 수직선에서 닿는 점까지의 각도에 45도를 더해야 함에 주의합니다.

여기까지 모두 구현되었으면, 각 과정에서 색깔의 배열을 적절히 회전시킨 뒤에 마지막에 적절한 인덱스의 색깔을 출력하면 됩니다. pivot의 대각으로 마주한 점이 다음 pivot이 되었을 경우에는 색깔을 두 칸 밀어야 함에 유의합니다.

{{% /details %}}
