---
draft: true
params:
  boj: 23770
  bojTitle: Dyson Circle
---

## 문제 내용

무한한 2차원 공간이 $1 \times 1$ 크기의 단위 정사각형으로 나눠져 있고, 그 중 몇몇 칸이 노란색으로 색칠되어 있습니다.

이 공간에서 몇 개의 칸을 파란색으로 색칠하여 다음의 조건이 충족되도록 하려고 합니다.

* 파란색 칸들에 의해 전체 공간은 하나의 무한한 공간과 하나의 유한한 공간으로 나눠집니다. (하나의 변을 공유하는 두 칸은 같은 공간에 속합니다.)
* 모든 노란 칸은 유한한 공간의 내부에 있습니다.

이를 충족하도록 하기 위해 파란색으로 칠해야 하는 칸의 최소 개수를 구하세요.

### 입력

첫 줄에는 노란색 칸의 개수 $n$이 주어집니다. ($1 \le n \le 200\;000$)

다음 $n$줄에는 각 노란색 칸의 좌표 $(x, y)$가 주어집니다. ($-10^6 \le x, y \le 10^6$) 이 좌표는 중복되지 않습니다.

## 문제 풀이

{{% details title="스포일러" closed="true" %}}

일단 유한한 공간의 연결성 조건을 무시하고, 다음의 관찰을 할 수 있습니다.

* 파란색 칸은 하나의 고리를 이루어야 합니다.
* 최소의 파란색 칸을 쓰는 고리가 있을 때, 같은 개수의 칸을 사용하여 내각이 135도인 팔각형 모양을 만들 수 있습니다.
* 이러한 팔각형의 각 변은 $x$, $y$, $x+y$, $x-y$의 최소/최대값에 의해 결정됩니다.

모든 변의 위치는 존재하는 모든 노란색 칸보다 strictly 밖에 위치해야 함에 유의하여 8개의 값을 구합니다.

이제 이러한 팔각형을 이루는 파란 칸의 개수는 다음과 같이 구할 수 있습니다.

* 먼저 $x$, $y$의 최소/최대를 이용하여 직사각형을 만든 다음 네 구석을 깎은 것으로 볼 수 있습니다.
* 직사각형의 둘레는 $2(\max(x) - \min(x) + \max(y) - \min(y))$입니다.
* 각각의 구석에서 감소하는 파란 칸의 개수는 직사각형의 꼭짓점이 갖는 값과 팔각형의 변이 갖는 값의 차이와 같습니다. 예를 들어, 오른쪽 위 구석에서는 $|\max(x+y) - (\max(x) + \max(y))|$ 만큼의 차이가 발생합니다.
* 팔각형이 노란색 칸을 포함해야 한다는 조건을 생각하면, 두 개의 구석이 서로 간섭하는 일은 없음을 보일 수 있습니다.

마지막으로 이러한 팔각형의 내부가 연결되지 않는 경우를 고려해야 합니다. 친절하게 예제에 있는데, 모든 노란 칸이 대각선으로 일렬로 있는 경우에는 각각의 내부 칸이 서로 연결되지 않으므로 넓은 대각선이 있는 쪽을 한 칸 확장해야 하며, 추가적으로 1칸을 사용합니다.

{{% /details %}}
