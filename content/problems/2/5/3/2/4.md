---
params:
  boj: 25324
  bojTitle: 로지텍 MX Mechanical
---

## 문제 내용

생략

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저 26개의 알파벳을 홀짝으로 13개씩의 그룹으로 나눕니다. 시간 $t+1$에 한쪽 그룹에서 켜진 버튼의 집합은 시간 $t$에 반대쪽 그룹에서 켜진 버튼의 집합에만 영향을 받기 때문입니다.

이제 시간 $t$에서 A를 포함하는 그룹에서 시간 $t+1$에서 B를 포함하는 그룹으로의 전이를 구하면 다음과 같습니다.

* 이전 상태를 길이 13의 비트마스크로 둡니다. A 그룹은 A가 맨 왼쪽, B 그룹은 B가 맨 왼쪽이라고 합시다.
* 그러면, 이전 상태의 각 비트에 대해, 그 비트가 1이면 자기 자리 또는 바로 왼쪽 자리 중 하나를 선택하여 1을 OR한 결과로 전이됩니다.
  이때 각각의 확률은 이전 상태의 1 비트 수가 $k$일 때 $\frac{1}{2^k}$배가 됩니다.

둘로 쪼개는 과정을 각 상태의 켜진 비트의 개수번만큼 반복하면 1회 iteration의 총 시간은 $3^{13} \approx 1.5 \times 10^6$이 됩니다. 시간 제한이 5초이므로 이 과정을 100번 반복해도 시간 내에 동작합니다.

출력할 때도 각 쿼리에 대해 나이브하게 $2^{13}$개의 상태 중에서 특정 글자의 비트가 켜져 있는 것들을 모두 더해서 출력해도 충분합니다.

{{< /details >}}
