---
params:
  boj: 29382
  bojTitle: Гарри Поттер и битва за Хогвартс
---

## 문제 내용

1 이상 $n$ 이하의 정수가 정확히 한 번씩 등장하는 길이 $n$의 수열이 있습니다. 이를 버블 소트로 정렬하려고 합니다. 버블 소트의 1회 루프는 다음과 같이 동작합니다.

* 왼쪽부터 오른쪽으로 이웃한 원소 두 개씩을 보면서, 왼쪽 원소가 오른쪽 원소보다 크다면 둘의 자리를 바꿉니다.

위의 루프를 $k$번 돌린 이후의 배열의 상태를 출력하세요.

### 입력

첫 줄에는 $n$과 $k$의 값이 주어집니다. ($1 \le n \le 200\;000$, $0 \le k \le n-1$)

다음 줄에는 길이 $n$의 수열이 주어집니다.

### 출력

문제의 정답을 한 줄에 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

버블 소트 루프를 한 번 돌리게 되면, 첫 원소 $a_1$, $a_1$보다 큰 첫 번째 원소 $a_i$, $a_i$보다 큰 첫 번째 원소 $a_j$, ...끼리 자리를 한 칸씩 오른쪽으로 옮겨가는 것을 알 수 있습니다.
인덱스 범위를 $1$에서 $n$이었던 것을 $2$에서 $n+1$까지로 바뀌는 것으로 본다면, 나머지 원소들은 제자리에 있는 것을 알 수 있습니다.

```
4 2 1 5 3
^     ^
  2 1 4 3 5
  ^   ^   ^
    1 2 3 4 5
```

$a_i$가 $k$번의 루프에서 적어도 한 번 움직일 조건은 $a_i$보다 왼쪽의 더 큰 값이 $k$개 미만인 것입니다. 왜냐하면 루프를 한 번 돌 때마다 정확히 하나의 그러한 값이 $a_i$의 오른쪽으로 이동하기 때문입니다.

따라서 이 조건을 충족하는 원소들을 세그먼트 트리로 판별하면 되고, 그 다음에는 움직이지 않은 원소들은 그대로 두고 남은 자리들을 움직인 원소들의 정렬 순서로 채우면 됩니다.

{{< /details >}}
