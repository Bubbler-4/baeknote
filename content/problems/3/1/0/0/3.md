---
params:
  boj: 31003
  bojTitle: 언젠가 정렬이 될 수 있으면 좋겠네.
---

## 문제 내용

생략

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

수열에서 서로소가 아닌 두 수가 있으면, 주어진 연산을 아무리 반복해도 오른쪽에 있던 수를 왼쪽으로 보낼 수 없습니다.

따라서, 수열의 각 쌍이 서로소인지를 판별해 놓으면, 아직 사용되지 않은 수들 중에서 맨 왼쪽에 올 수 있는 수들을 구할 수 있고, 그 중에서 가장 작은 것을 맨 왼쪽에 배치하는 것을 반복하면 됩니다.

이를 효율적으로 구현하기 위해서는, 각 수의 왼쪽에 있는 수들 중에서 아직 사용되지 않았으면서 서로소가 아닌 수들의 개수를 유지하는 방법을 쓸 수 있습니다.

{{< /details >}}
