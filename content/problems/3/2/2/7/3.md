---
params:
  boj: 32273
  bojTitle: Tromino (트로미노) 타일 채우기
---

## 문제 내용

생략

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저 지문에서 주어진 X (X는 A, B, C, D 중 하나) 모양을 확대해서 $2^K \times 2^K$에서 한쪽 구석을 제외한 모양으로 만들었을 때, 이 모양을 덮는데 필요한 Y (역시 A, B, C, D 중 하나)의 개수를 $f(K, X, Y)$라고 합시다.
그러면 다음이 성립합니다.

$$
\begin{align*}
f(1, X, X) &= 1 \\
f(1, X, Y) &= 0 \quad (X \neq Y) \\
f(K, A, A) &= 4^{K-2} + 2^{K-2} \\
f(K, A, D) &= 4^{K-2} - 2^{K-2} \\
f(K, A, B) = f(K, A, C) &= 4^{K-2}
\end{align*}
$$

지문의 구성에 따르면 $2^K \times 2^K$에서 한 칸을 제외한 보드의 타일링은 위에서 정의한 모양을 $i = 1, 2, \cdots, K$에 대해 하나씩 만들어 조합해서 만들 수 있습니다.
$K \ge 2$이면 A, B, C, D의 개수 모두에 $4^0 + 4^1 + \cdots + 4^{K-2}$가 더해지므로, 이 값을 각각에서 빼서 얻는 값은 다음의 벡터합 꼴로 나타낼 수 있습니다.

$$
\begin{align*}
&(\pm 2^{K-2}, 0, 0, \mp 2^{K-2}) \operatorname{or} (0, \pm 2^{K-2}, \mp 2^{K-2}, 0) \\
+& \cdots \\
+&(\pm 2^1, 0, 0, \mp 2^1) \operatorname{or} (0, \pm 2^1, \mp 2^1, 0) \\
+&(\pm 2^0, 0, 0, \mp 2^0) \operatorname{or} (0, \pm 2^0, \mp 2^0, 0) \\
+&(1, 0, 0, 0) \operatorname{or} (0, 1, 0, 0) \operatorname{or} (0, 0, 1, 0) \operatorname{or} (0, 0, 0, 1)
\end{align*}
$$

이제 이 식의 각 줄에서 어느 벡터를 선택해야 하는지를 찾는 문제가 되었습니다.

일단 네 값 중 하나에서 1을 빼면 $A = -D$, $B = -C$가 되어야 합니다. 이 부분은 네 가지 가능성을 모두 시험해볼 수 있습니다.

일반성을 잃지 않고 $A$와 $B$가 음이 아닌 수라고 합시다. 그러면 마지막에서 2번째 줄을 제외하면 나머지는 모두 짝수가 더해지므로 $A$와 $B$의 홀짝이 서로 달라야 합니다.
홀수인 쪽을 $A$라고 하면, $A$에서 1을 빼거나 더한 뒤 $A$와 $B$를 모두 2로 나눈 결과 또한 남은 줄들을 2로 나눈 결과의 홀짝성에 의해 서로 홀짝이 달라야 합니다.
$\frac{A-1}{2}$와 $\frac{A+1}{2}$의 홀짝은 서로 다르므로, 위 조건을 충족하는 방법은 유일합니다. 이 성질을 반복적으로 적용하면 모든 줄에서 어느 것을 골라야 하는지를 유일하게 정할 수 있습니다.

마지막으로 바뀐 A, B, C, D의 값이 모두 0이 되었음을 확인하고, 각 단계에서 어느 모양을 골랐는지에 따라 $x$나 $y$에 $2^{i-1}$을 더해서 좌표를 구해서 출력하면 됩니다.

{{< /details >}}
