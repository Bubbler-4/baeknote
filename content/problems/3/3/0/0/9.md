---
params:
  boj: 33009
  bojTitle: Scheduling Two Meetings
---

## 문제 내용

$m$명의 사람들이 두 번의 회의를 하려고 합니다. $n$개의 가능한 시간대와 각 시간대에 각 사람들의 참가 가능 여부가 주어질 때, 다음의 조건을 모두 충족하는 서로 다른 두 시간대의 쌍을 출력하세요.

* 모든 사람은 적어도 하나의 회의에 참석해야 합니다.
* 그러한 회의가 여러 개라면, 두 회의 모두에 참석 가능한 사람을 최대화해야 합니다.
* 그러한 회의도 여러 개라면, 그 중에서 첫 번째 회의가 가장 이른 것을 선택하고, 그래도 가능한 답이 여러 개라면, 그 중에서 두 번째 회의가 가장 이른 것을 선택합니다. 인덱스가 작은 시간대가 더 이른 것입니다.

### 입력

첫 줄에는 시간대의 개수 $n$과 사람의 수 $m$이 주어집니다. ($2 \le n \le 200\;000$, $2 \le m \le 20$)

다음 $n$줄에는 참석 가능 여부를 나타내는 표가 주어집니다. $i$번째 줄의 $j$번째 글자는 $i$번 시간대에 $j$번째 사람이 참석할 수 있으면 `Y`, 아니면 `N`입니다.

### 출력

문제의 정답을 한 줄에 출력합니다. 두 개의 시간대 중 이른 것을 먼저 출력해야 합니다. 그러한 시간대의 쌍이 존재하지 않는다면 `No`를 대신 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저, 모든 사람이 참석할 수 있는 시간대가 존재한다면 다음과 같이 처리합니다.

* 그러한 시간대가 두 개 이상이라면, 그 중에서 가장 이른 두 개의 시간대를 골라 출력합니다.
* 그러한 시간대가 하나라면, 나머지 시간대 중에서 가장 많은 사람이 참석 가능한 시간대 중 가장 이른 것과 함께 골라 출력합니다.

이제는 같은 시간대를 두 번 고를 가능성이 존재하지 않습니다. (선택한 시간대에 참석하지 못하는 사람은 둘 모두에 참석 못하게 되기 때문)

다음의 문제를 풀 수 있다면 원래 문제의 답을 낼 수 있습니다.

* (A) 어떤 시간대 $i$를 먼저 골랐을 때, $i$에 참석할 수 없는 모든 사람이 참석할 수 있는 다른 시간대가 존재하는가? 존재한다면 그 중 최적의 선택은 무엇인가?

이 문제를 답하기 위해, 어떤 시간대의 모든 사람들의 참석 가능 여부를 비트마스크로 바꾸고 다음의 DP를 정의합니다.

* `DP[mask]`: `mask`의 모든 사람들이 참석하는 회의가 존재한다면, 그 중에서 켜진 비트의 수가 가장 많은 것 중 최소 인덱스

이는 SOS DP로 $\mathcal{O}(m 2^m)$에 풀 수 있습니다. 이 DP 테이블을 채운 뒤에는 문제 A를 모든 $i$에 대해 푼 다음 그 중에서 최적의 선택을 출력하면 됩니다.

{{< /details >}}
