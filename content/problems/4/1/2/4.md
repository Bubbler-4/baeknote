---
params:
  boj: 4124
  bojTitle: Secret Polynomial
---

## 문제 내용

모든 계수가 음이 아닌 정수인 다항함수 $f$에 대해, $f(1)$과 $f(f(1))$의 값이 주어집니다. 이를 보고 함수 $f$를 유일하게 결정할 수 있다면 그것을 출력하고, 여러 가지라면 `AMBIGUOUS`, 불가능하다면 `IMPOSSIBLE`을 출력하세요.

### 입력

첫 줄에 테스트 케이스의 개수 $T$가 주어집니다. ($1 \le T \le 10\;000$)

각 테스트 케이스에 대해, $f(1)$과 $f(f(1))$의 값이 한 줄에 주어집니다. 각 값은 32비트의 부호 **있는** 정수로 표현할 수 있습니다.

### 출력

각 테스트 케이스에 대해, 문제의 정답을 한 줄에 출력합니다. 다항함수를 출력할 때는 각 계수를 최고차항부터 상수항의 순으로 계수들만 출력합니다. $f(x) = 0$이라면 `0`을 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

먼저 edge case들을 처리합니다.

* $f(1) < 0$이나 $f(f(1)) < 0$은 불가능합니다. 모든 계수가 음이 아닌 다항함수에 음이 아닌 수를 대입하여 음수를 얻을 수 없기 때문입니다.
* $f(1) = 0$이라면, $f(x) = 0$입니다. 따라서 $f(f(1)) = 0$일 경우 영함수를 출력, 0이 아니라면 불가능입니다.
* $f(1) = 1$이라면, $f(f(1))$ 또한 자동으로 1입니다. 그런데 이를 충족하는 함수는 $1$, $x$, $x^2$ 등으로 많습니다. 따라서 $f(f(1)) = 1$이면 ambiguous, 아니라면 불가능입니다.

이제 $f(1) \ge 2$입니다. 이 값을 $a$, $f(f(1))$을 $b$라고 합시다. 모든 계수가 음이 아닌 정수이므로, $1, x, x^2, \cdots$ 중에서 $a$개를 선택한 것으로 볼 수 있습니다.
이때 $f(f(1)) = f(a)$는 $1, a, a^2, \cdots$ 중에서 $a$개를 선택하여 더한 값과 같습니다.

다시 $1, a, a^2, \cdots$는 $a$진법으로 나타내면 $1, 10, 100, \cdots$가 됩니다. 이들 중에서 $a$개를 골라서 더했는데 받아올림이 있으려면 $a$개가 모두 같아야 합니다.
이는 $b = a^k, k > 0$일 때 발생하며, 이때 함수는 $f(x) = ax^{k-1}$입니다. 그렇지 않은 경우에는 받아올림이 발생하지 않으므로,
$b$를 $a$진법으로 나타냈을 때 자리수들의 합이 $a$이면 그 진법 표현이 그대로 $f$의 계수가 됩니다. 둘 모두에 해당되지 않는다면 불가능입니다.

{{< /details >}}
