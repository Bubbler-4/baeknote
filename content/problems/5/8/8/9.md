---
params:
  boj: 5889
  bojTitle: Cows in a Skyscraper
---

## 문제 내용

$N$개의 물건을 엘리베이터를 이용하여 타워 꼭대기에서 지상으로 옮기려고 합니다. 각 물건의 무게는 $C_i$이며, 엘리베이터에는 한 번에 무게의 합이 최대 $W$인 물건들을 한 번에 옮길 수 있습니다.

이때 엘리베이터를 최소 횟수로 이용하여 모든 물건을 옮기는 방법을 아무거나 하나 출력하세요.

### 입력

첫 줄에는 $N$과 $W$가 주어집니다. ($1 \le N \le 18$, $1 \le W \le 10^8$)

다음 $N$줄에는 각 물건의 무게가 주어집니다. ($1 \le C_i \le W$)

### 출력

첫 줄에는 엘리베이터의 이용 횟수 $R$을 출력합니다.

다음 $R$줄에는 엘리베이터를 $i$번째로 이용할 때에 실을 물건의 목록을 출력합니다. 먼저 물건의 개수를 출력하고, 그다음 물건의 번호들을 출력합니다. 순서는 상관 없습니다.

## 문제 풀이

{{% details title="스포일러" closed="true" %}}

$N$이 최대 18이므로 비트DP를 떠올릴 수 있습니다. DP 상태를 현재까지 실은 물건들의 집합으로 두고, DP의 값으로는 엘리베이터 이용 횟수와 마지막 엘리베이터 이용에서 운반하는 물건의 총 무게를 넣습니다.

이렇게 하면 전이는 다음과 같이 가능합니다.

* 새로운 상태 $S$에 대해, $S$에서 정확히 하나의 물건을 제외한 이전 상태 $S'$를 확인합니다.
* 여기서 마지막 엘리베이터를 이용할 때 충분한 여유 공간이 있으면, 제외된 물건을 여기에 포함시킵니다.
* 그렇지 않다면, 엘리베이터 이용 횟수를 1 추가하고, 마지막에는 새로운 물건 하나만을 옮기게 합니다.

이것이 가능한 이유는, 이전 운반 중에서 충분한 여유 공간이 있었다면, 물건이 추가된 순서를 바꿔서 마지막 물건이 해당 운반에 들어가도록 할 수 있기 때문입니다.

이제 이러한 DP에 역추적을 같이 구현하여 필요한 정보를 출력하면 됩니다.

{{% /details %}}
