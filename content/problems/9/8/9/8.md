---
params:
  boj: 9898
  bojTitle: Domino
---

## 문제 내용

$4 \times N$의 격자를 $1 \times 2$, $2 \times 1$의 타일로 채우는 방법의 수를 구하세요.

### 입력

$N$이 주어집니다. ($1 \le N < 1000$)

### 출력

문제의 정답을 $1000$으로 나눈 나머지를 출력합니다.

## 문제 풀이

{{< details title="스포일러" closed="true" >}}

$4 \times n$ 격자를 도미노로 채우는 방법의 수를 $a_n$, 그 격자의 1, 2번 가로줄의 오른쪽에 단위 정사각형을 하나씩 덧붙인 모양을 채우는 방법의 수를 $b_n$,
2, 3번 가로줄에 덧붙인 모양을 채우는 방법의 수를 $c_n$이라고 합시다.

```
....    ....+   ....
....    ....+   ....+
....    ....    ....+
....    ....    ....
a_n     b_n     c_n
```

그러면 다음과 같이 경우의 수를 분석할 수 있습니다.

* 먼저 $b_n$과 $c_n$을 분석합니다. 각각 튀어나온 부분 중 한 칸을 가로로 덮는 것과 세로로 덮는 것을 생각할 수 있습니다.
  * 다음에 의해 $b_n = a_n + b_{n-1}$입니다.

    ```
    ....|   ...--
    ....|   ...--
    ....    ....
    ....    ....
    ```

  * 다음에 의해 $c_n = a_n + c_{n-2}$입니다. 1칸이 튀어나와 있으면 그 칸을 도미노로 덮는 방법은 유일함을 이용합니다.

    ```
    ....    ..--
    ....|   ...--
    ....|   ...--
    ....    ..--
    ```

* 이제 $a_n$을 분석해 봅시다.
  * 맨 오른쪽 위 칸을 세로로 덮으면 $b_{n-1}$이 됩니다.
  * 맨 오른쪽 위 칸을 가로로 덮고, 그 아래 칸을 세로로 덮으면 맨 아래 줄에 가로로 하나 놓아야 하므로, $c_{n-2}$가 됩니다.
    
    ```
    ...|    ..--
    ...|    ...|
    ....    ...|
    ....    ..--
    ```

  * 위쪽 두 줄을 가로로 덮고, 그 아래 칸을 세로로 덮으면 $b_{n-2}$가 됩니다.
  * 다음 칸도 가로로 덮으면 마지막 줄도 가로로 덮어야 하므로 $a_{n-2}$가 됩니다.
    
    ```
    ..--    ..--
    ..--    ..--
    ...|    ..--
    ...|    ..--
    ```

  * 따라서 $a_n = b_{n-1} + c_{n-2} + b_{n-2} + a_{n-2}$입니다.

이제 이를 그대로 DP로 구현하여 문제를 풀 수 있습니다. 초기 조건은 다음과 같습니다.

* $a_0 = 1, a_1 = 1$
* $b_0 = 1, b_1 = 2$
* $c_0 = 1, c_1 = 1$

{{< /details >}}
